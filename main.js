!function(){"use strict";class e{constructor(e,t,s,r,i){this._data=e,this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleImageClick=s,this._cardId=e._id,this._isLiked=e.isLiked,this._handleDeleteClick=r,this._handleLikeClick=i}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._element.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeClick(this)})),this._element.querySelector(".card__trash-icon").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._element.querySelector("#card__preview-button").addEventListener("click",(()=>{this._handleImageClick(this._data)}))}generateCard(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".card__title").textContent=this._name,this._element.querySelector(".card__image").src=this._link,this._element.querySelector(".card__image").alt=this._name,this.renderLikes(this._isLiked),this._element}removeCard(){this._element.remove()}getId(){return this._cardId}getLikes(){return this._isLiked}renderLikes(e){this._isLiked=e,!0===this._isLiked?this._element.querySelector(".card__like-button").classList.add("card__like-button_active"):this._element.querySelector(".card__like-button").classList.remove("card__like-button_active")}}class t{constructor(e,t){let{items:s,renderer:r}=e;this._data=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._data.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}class s{constructor(e){this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close(),e.target.classList.contains("modal__close-button")&&this.close()}))}}class r extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupForm.querySelectorAll(".modal__input"),this._handleFormSubmit=t,this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonValue=this._submitButton.textContent}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setLoading(e,t){this._submitButton.textContent=e?t:this._submitButtonValue}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t),e.target.reset()}))}}class i{constructor(e,t,s){this._displayName=document.querySelector(e),this._displayJob=document.querySelector(t),this._displayImage=document.querySelector(s)}getUserInfo(){return{title:this._displayName.textContent,description:this._displayJob.textContent}}setUserInfo(e){this._displayName.textContent=e.name,this._displayJob.textContent=e.about,this._displayImage.src=e.avatar}setUserImage(e){this._displayImage.src=e}}class n{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e,t){const s=document.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=document.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}resetValidation(){this.toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}disableSubmitButton=()=>{const e=this._formElement.querySelector(this._submitButtonSelector);e.classList.add(this._inactiveButtonClass),e.disabled=!0};_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this.toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const o={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},a=document.querySelector("#edit-modal"),l=document.querySelector("#profile-form"),d=document.querySelector("#add-card-form"),c=document.querySelector(".profile__edit-button"),u=document.querySelector(".profile__add-button"),h=(document.querySelector("#confirm-modal"),a.querySelector("#profile-title")),_=a.querySelector("#description"),m=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}renderResult(e){return e.ok?e.json():Promise.reject(`'Error:' ${e.status}`)}getInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this.renderResult)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this.renderResult)}editProfile(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this.renderResult)}addCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.url})}).then(this.renderResult)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this.renderResult)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this.renderResult)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this.renderResult)}updateProfilePicture(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this.renderResult)}loadPageResults(){return Promise.all([this.getInitialCards(),this.getInfo()])}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9a1167a0-01e6-4e49-b3c5-e813c03c355c","Content-Type":"application/json"}});let p,v;m.loadPageResults().then((e=>{let[s,r]=e;console.log(s),console.log(r),p=new t({items:s,renderer:g},".gallery__cards"),p.renderItems(),v=new i(".profile__title",".profile__description",".profile__image"),v.setUserInfo(r)})).catch((e=>console.error(e)));const b=new r("#edit-modal",(function(e){b.setLoading(!0,"Saving..."),m.editProfile(e).then((e=>(b.close(),m.getInfo(),e))).then((e=>v.setUserInfo(e))).catch((e=>console.error(e))).finally((()=>b.setLoading(!1,"Save")))}));b.setEventListeners();const L=new r("#picture-modal",(function(e){L.setLoading(!0,"Saving..."),m.updateProfilePicture(e.profileurl).then((e=>{L.close(),v.setUserImage(e.avatar)})).catch((e=>console.error(e))).finally((()=>b.setLoading(!1,"Save")))}));function g(t){return new e(t,"#card-template",k,y,S).generateCard()}L.setEventListeners(),document.querySelector(".profile-image__edit-button").addEventListener("click",(e=>{e.preventDefault(),L.open()}));const E=new r("#card-modal",(function(e){E.setLoading(!0,"Saving..."),m.addCard(e).then((e=>{p.addItem(e)})).then(E.close()).catch((e=>console.error(e))).finally((()=>E.setLoading(!1,"Create")))}));E.setEventListeners();const f=new class extends s{constructor(e){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._submitButton=this._popupForm.querySelector(".modal__button_confirm"),this._submitButtonValue=this._submitButton.textContent}setSubmitAction(e){this._submitAction=e}setLoading(e,t){this._submitButton.textContent=e?t:this._submitButtonValue}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._submitAction()}))}}("#confirm-modal");function y(e){f.open(),f.setSubmitAction((()=>m.deleteCard(e.getId()).then((()=>{f.setLoading(!0,"Saving..."),e.removeCard(),f.close()})).catch((e=>console.error(e))).finally((()=>f.setLoading(!1,"Yes")))))}function S(e){!0===e.getLikes()?m.dislikeCard(e.getId()).then((t=>{e.renderLikes(t.isLiked)})).catch((e=>console.error(e))):m.likeCard(e.getId()).then((t=>{e.renderLikes(t.isLiked)})).catch((e=>console.error(e)))}f.setEventListeners();const C=new class extends s{constructor(e){super(e),this._previewImageDisplay=this._popupElement.querySelector(".modal__image-preview"),this._previewImageText=this._popupElement.querySelector(".modal__image-text")}open(e){this._previewImageDisplay.src=e.link,this._previewImageDisplay.alt=e.name,this._previewImageText.textContent=e.name,super.open()}}("#image-modal");function k(e){C.open(e)}C.setEventListeners(),c.addEventListener("click",(()=>{b.open();const e=v.getUserInfo();h.value=e.title,_.value=e.description,I.resetValidation()})),u.addEventListener("click",(()=>E.open()));const I=new n(o,l);I.enableValidation(),new n(o,d).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FFaENyQyxFQUNHd0IsU0FBU3dCLEVBQUszSixTQUNkeUgsTUFBTVIsSUFDTDBDLEVBQUs5SixZQUFZb0gsRUFBSW5JLFFBQVEsSUFFOUJpSyxPQUFPQyxHQUFRSixRQUFRSyxNQUFNRCxJQUVwQyxDQWxDQU8sRUFBbUI3SCxvQkFxQ25CLE1BQU1rSSxFQUFpQixJR3JMUixjQUE2QjNJLEVBQzFDcEQsV0FBQUEsQ0FBWXFELEdBQ1ZhLE1BQU1iLEdBQ04vQyxLQUFLMEwscUJBQXVCMUwsS0FBS2dELGNBQWNoQyxjQUM3Qyx5QkFFRmhCLEtBQUsyTCxrQkFDSDNMLEtBQUtnRCxjQUFjaEMsY0FBYyxxQkFDckMsQ0FFQWlDLElBQUFBLENBQUt0RCxHQUNISyxLQUFLMEwscUJBQXFCbEssSUFBTTdCLEVBQUtVLEtBQ3JDTCxLQUFLMEwscUJBQXFCakssSUFBTTlCLEVBQUtRLEtBQ3JDSCxLQUFLMkwsa0JBQWtCcEssWUFBYzVCLEVBQUtRLEtBQzFDeUQsTUFBTVgsTUFDUixHSHNLd0MsZ0JBRzFDLFNBQVNwRCxFQUFpQkYsR0FDeEI4TCxFQUFleEksS0FBS3RELEVBQ3RCLENBSkE4TCxFQUFlbEksb0JBT2Y2RSxFQUFrQi9HLGlCQUFpQixTQUFTLEtBQzFDMEosRUFBaUI5SCxPQUNqQixNQUFNMkksRUFBa0JqSCxFQUFTUyxjQUNqQ2tELEVBQVVoRSxNQUFRc0gsRUFBZ0J2RyxNQUNsQ2tELEVBQVNqRSxNQUFRc0gsRUFBZ0J0RyxZQUNqQ3VHLEVBQWtCdEUsaUJBQWlCLElBR3JDYyxFQUFjaEgsaUJBQWlCLFNBQVMsSUFBTThKLEVBQWNsSSxTQUc1RCxNQUFNNEksRUFBb0IsSUFBSWxHLEVBQzVCcUMsRUFDQUUsR0FHRjJELEVBQWtCOUQsbUJBRVEsSUFBSXBDLEVBQzVCcUMsRUFDQUcsR0FHZ0JKLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vT09QXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2lzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBfY2FyZEVsZW1lbnQ7XG4gIH1cblxuICAvLyBnZXRWaWV3KCkge1xuICAvLyAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGdldCB2aWV3XCIpO1xuICAvLyAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAvLyAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIC8vICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAvLyAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoLWJ1dHRvblwiKTtcbiAgLy8gfVxuXG4gIC8vIF9oYW5kbGVMaWtlQnV0dG9uQ2xpY2soKSB7XG4gIC8vICAgdGhpcy5fZWxlbWVudFxuICAvLyAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgLy8gICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAvLyB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1pY29uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRfX3ByZXZpZXctYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9kYXRhKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5yZW5kZXJMaWtlcyh0aGlzLl9pc0xpa2VkKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRJZDtcbiAgfVxuXG4gIGdldExpa2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xuICB9XG5cbiAgcmVuZGVyTGlrZXMoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIGlmICh0aGlzLl9pc0xpa2VkID09PSB0cnVlKSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xuICAgIHRoaXMuX2RhdGEgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2RhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKG5ld0NhcmQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblZhbHVlID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1JbnB1dHNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybUlucHV0cztcbiAgfVxuXG4gIHNldExvYWRpbmcoaXNMb2FkaW5nLCBidXR0b25WYWx1ZSkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGlzTG9hZGluZ1xuICAgICAgPyBidXR0b25WYWx1ZVxuICAgICAgOiB0aGlzLl9zdWJtaXRCdXR0b25WYWx1ZTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB1c2VySW5mbyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHVzZXJJbmZvKTtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBpbWFnZVNlbGVjdG9yKSB7XG4gICAgdGhpcy5fZGlzcGxheU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fZGlzcGxheUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Rpc3BsYXlJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW1hZ2VTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IHRoaXMuX2Rpc3BsYXlOYW1lLnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rpc3BsYXlKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9kaXNwbGF5TmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9kaXNwbGF5Sm9iLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9kaXNwbGF5SW1hZ2Uuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2V0VXNlckltYWdlKGRhdGEpIHtcbiAgICB0aGlzLl9kaXNwbGF5SW1hZ2Uuc3JjID0gZGF0YTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRpb24ge1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBzZXR0aW5ncy5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IF9lcnJvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBfZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIF9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBfZXJyb3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIF9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbiA9ICgpID0+IHtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGZvcm1WYWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgZm9ybVZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG4vL1dyYXBwZXJzXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWZvcm1cIik7XG5jb25zdCBjYXJkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIik7XG5cbi8vQnV0dG9ucyBhbmQgb3RoZXIgRE9NIG5vZGVzXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBuZXdDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29uZmlybS1tb2RhbFwiKTtcblxuLy9Gb3JtIGRhdGFcbmNvbnN0IG5hbWVJbnB1dCA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlXCIpO1xuY29uc3Qgam9iSW5wdXQgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjZGVzY3JpcHRpb25cIik7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjlhMTE2N2EwLTAxZTYtNGU0OS1iM2M1LWU4MTNjMDNjMzU1Y1wiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vaW5mb3JtYXRpb24gZnJvbSBzZXJ2ZXJcblxubGV0IGNhcmRMaXN0O1xubGV0IHVzZXJJbmZvO1xuXG5hcGlcbiAgLmxvYWRQYWdlUmVzdWx0cygpXG4gIC50aGVuKChbY2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGNhcmRzKTtcbiAgICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7XG4gICAgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IGNhcmRzLFxuICAgICAgICByZW5kZXJlcjogY3JlYXRlQ2FyZCxcbiAgICAgIH0sXG4gICAgICBcIi5nYWxsZXJ5X19jYXJkc1wiXG4gICAgKTtcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuICAgIHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxuICAgICAgXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgICAgIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXG4gICAgICBcIi5wcm9maWxlX19pbWFnZVwiXG4gICAgKTtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuXG4vL1JlbmRlciBMb2FkaW5nXG5mdW5jdGlvbiByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICBpZiAoaXNMb2FkaW5nKSB7XG4gIH1cbn1cblxuLy9lZGl0IHByb2ZpbGUgaW5mb3JtYXRpb25cblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQodXNlckRhdGEpIHtcbiAgcHJvZmlsZVBvcHVwRm9ybS5zZXRMb2FkaW5nKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGUodXNlckRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcHJvZmlsZVBvcHVwRm9ybS5jbG9zZSgpO1xuICAgICAgYXBpLmdldEluZm8oKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpKVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4gcHJvZmlsZVBvcHVwRm9ybS5zZXRMb2FkaW5nKGZhbHNlLCBcIlNhdmVcIikpO1xufVxuXG5jb25zdCBwcm9maWxlUG9wdXBGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2VkaXQtbW9kYWxcIixcbiAgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXRcbik7XG5wcm9maWxlUG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vZWRpdCBwcm9maWxlIGltYWdlXG5cbmNvbnN0IHByb2ZpbGVJbWFnZVBvcHVwRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwaWN0dXJlLW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVQaWN0dXJlRm9ybVN1Ym1pdFxuKTtcbnByb2ZpbGVJbWFnZVBvcHVwRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcm9maWxlSW1hZ2VFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZS1pbWFnZV9fZWRpdC1idXR0b25cIlxuKTtcblxucHJvZmlsZUltYWdlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgcHJvZmlsZUltYWdlUG9wdXBGb3JtLm9wZW4oKTtcbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlUGljdHVyZUZvcm1TdWJtaXQodXNlckRhdGEpIHtcbiAgcHJvZmlsZUltYWdlUG9wdXBGb3JtLnNldExvYWRpbmcodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC51cGRhdGVQcm9maWxlUGljdHVyZSh1c2VyRGF0YS5wcm9maWxldXJsKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHByb2ZpbGVJbWFnZVBvcHVwRm9ybS5jbG9zZSgpO1xuICAgICAgdXNlckluZm8uc2V0VXNlckltYWdlKHJlcy5hdmF0YXIpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiBwcm9maWxlUG9wdXBGb3JtLnNldExvYWRpbmcoZmFsc2UsIFwiU2F2ZVwiKSk7XG59XG5cbi8vRWRpdCBDYXJkc1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufVxuXG5jb25zdCBjYXJkUG9wdXBGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjY2FyZC1tb2RhbFwiLCBoYW5kbGVOZXdDYXJkRm9ybVN1Ym1pdCk7XG5jYXJkUG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZU5ld0NhcmRGb3JtU3VibWl0KHVzZXJJbmZvKSB7XG4gIGNhcmRQb3B1cEZvcm0uc2V0TG9hZGluZyh0cnVlLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmFkZENhcmQodXNlckluZm8pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShyZXMpO1xuICAgIH0pXG4gICAgLnRoZW4oY2FyZFBvcHVwRm9ybS5jbG9zZSgpKVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4gY2FyZFBvcHVwRm9ybS5zZXRMb2FkaW5nKGZhbHNlLCBcIkNyZWF0ZVwiKSk7XG59XG5cbmNvbnN0IGRlbGV0ZUNvbmZpcm1Qb3B1cCA9IG5ldyBwb3B1cFdpdGhDb25maXJtYXRpb24oXCIjY29uZmlybS1tb2RhbFwiKTtcbmRlbGV0ZUNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkKSB7XG4gIGRlbGV0ZUNvbmZpcm1Qb3B1cC5vcGVuKCk7XG5cbiAgZGVsZXRlQ29uZmlybVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PlxuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRJZCgpKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkZWxldGVDb25maXJtUG9wdXAuc2V0TG9hZGluZyh0cnVlLCBcIlNhdmluZy4uLlwiKTtcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgICAgIGRlbGV0ZUNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiBkZWxldGVDb25maXJtUG9wdXAuc2V0TG9hZGluZyhmYWxzZSwgXCJZZXNcIikpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XG4gIGlmIChjYXJkLmdldExpa2VzKCkgPT09IHRydWUpIHtcbiAgICBhcGlcbiAgICAgIC5kaXNsaWtlQ2FyZChjYXJkLmdldElkKCkpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQucmVuZGVyTGlrZXMocmVzLmlzTGlrZWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICB9IGVsc2Uge1xuICAgIGFwaVxuICAgICAgLmxpa2VDYXJkKGNhcmQuZ2V0SWQoKSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY2FyZC5yZW5kZXJMaWtlcyhyZXMuaXNMaWtlZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG4gIH1cbn1cblxuLy9QcmV2aWV3IEltYWdlc1xuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjaW1hZ2UtbW9kYWxcIik7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGRhdGEpIHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihkYXRhKTtcbn1cblxuLy9FdmVudCBMaXN0ZW5lcnNcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVQb3B1cEZvcm0ub3BlbigpO1xuICBjb25zdCBjdXJyZW50VXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8udGl0bGU7XG4gIGpvYklucHV0LnZhbHVlID0gY3VycmVudFVzZXJJbmZvLmRlc2NyaXB0aW9uO1xuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5uZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjYXJkUG9wdXBGb3JtLm9wZW4oKSk7XG5cbi8vVmFsaWRhdGlvblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRpb24oXG4gIGZvcm1WYWxpZGF0aW9uQ29uZmlnLFxuICBwcm9maWxlRm9ybUVsZW1lbnRcbik7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRpb24oXG4gIGZvcm1WYWxpZGF0aW9uQ29uZmlnLFxuICBjYXJkRm9ybUVsZW1lbnRcbik7XG5cbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICByZW5kZXJSZXN1bHQocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJ0Vycm9yOicgJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgfVxuXG4gIGdldEluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMucmVuZGVyUmVzdWx0KTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5yZW5kZXJSZXN1bHQpO1xuICB9XG5cbiAgZWRpdFByb2ZpbGUoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5yZW5kZXJSZXN1bHQpO1xuICB9XG5cbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEudGl0bGUsXG4gICAgICAgIGxpbms6IGRhdGEudXJsLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLnJlbmRlclJlc3VsdCk7XG4gIH1cblxuICBkZWxldGVDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtkYXRhfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLnJlbmRlclJlc3VsdCk7XG4gIH1cblxuICBsaWtlQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7ZGF0YX0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5yZW5kZXJSZXN1bHQpO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2RhdGF9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMucmVuZGVyUmVzdWx0KTtcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGVQaWN0dXJlKGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMucmVuZGVyUmVzdWx0KTtcbiAgfVxuXG4gIGxvYWRQYWdlUmVzdWx0cygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0SW5mbygpXSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9fYnV0dG9uX2NvbmZpcm1cIlxuICAgICk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uVmFsdWUgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0QWN0aW9uID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0TG9hZGluZyhpc0xvYWRpbmcsIGJ1dHRvblZhbHVlKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gaXNMb2FkaW5nXG4gICAgICA/IGJ1dHRvblZhbHVlXG4gICAgICA6IHRoaXMuX3N1Ym1pdEJ1dHRvblZhbHVlO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEFjdGlvbigpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VEaXNwbGF5ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9faW1hZ2UtcHJldmlld1wiXG4gICAgKTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VUZXh0ID1cbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS10ZXh0XCIpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlRGlzcGxheS5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlRGlzcGxheS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcHJldmlld0ltYWdlVGV4dC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2NhcmRJZCIsIl9pZCIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2VuZXJhdGVDYXJkIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJyZW5kZXJMaWtlcyIsInJlbW92ZUNhcmQiLCJyZW1vdmUiLCJnZXRJZCIsImdldExpa2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJhZGRJdGVtIiwibmV3Q2FyZCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50Iiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwiZm9ybUlucHV0cyIsImlucHV0IiwidmFsdWUiLCJzZXRMb2FkaW5nIiwiaXNMb2FkaW5nIiwiYnV0dG9uVmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsInVzZXJJbmZvIiwicmVzZXQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsIl9kaXNwbGF5TmFtZSIsIl9kaXNwbGF5Sm9iIiwiX2Rpc3BsYXlJbWFnZSIsImdldFVzZXJJbmZvIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJzZXRVc2VySW1hZ2UiLCJGb3JtVmFsaWRhdGlvbiIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwicmVzZXRWYWxpZGF0aW9uIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsImJ1dHRvbkVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJlbmFibGVWYWxpZGF0aW9uIiwiZm9ybVZhbGlkYXRpb25Db25maWciLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUZvcm1FbGVtZW50IiwiY2FyZEZvcm1FbGVtZW50IiwicHJvZmlsZUVkaXRCdXR0b24iLCJuZXdDYXJkQnV0dG9uIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZW5kZXJSZXN1bHQiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5mbyIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxDYXJkcyIsImVkaXRQcm9maWxlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwidXJsIiwiZGVsZXRlQ2FyZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJ1cGRhdGVQcm9maWxlUGljdHVyZSIsImxvYWRQYWdlUmVzdWx0cyIsImFsbCIsImF1dGhvcml6YXRpb24iLCJjYXJkTGlzdCIsImNhcmRzIiwidXNlckRhdGEiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJwcm9maWxlUG9wdXBGb3JtIiwiZmluYWxseSIsInByb2ZpbGVJbWFnZVBvcHVwRm9ybSIsInByb2ZpbGV1cmwiLCJjYXJkUG9wdXBGb3JtIiwiZGVsZXRlQ29uZmlybVBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiX3N1Ym1pdEFjdGlvbiIsImNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsIl9wcmV2aWV3SW1hZ2VEaXNwbGF5IiwiX3ByZXZpZXdJbWFnZVRleHQiLCJjdXJyZW50VXNlckluZm8iLCJlZGl0Rm9ybVZhbGlkYXRvciJdLCJzb3VyY2VSb290IjoiIn0=