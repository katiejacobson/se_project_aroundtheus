!function(){"use strict";class e{constructor(e,t,s,i,r){this._data=e,this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleImageClick=s,this._cardId=e._id,this._isLiked=e.isLiked,this._handleDeleteClick=i,this._handleLikeClick=r}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._element.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeClick(this)})),this._element.querySelector(".card__trash-icon").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._element.querySelector("#card__preview-button").addEventListener("click",(()=>{this._handleImageClick(this._data)}))}generateCard(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".card__title").textContent=this._name,this._element.querySelector(".card__image").src=this._link,this._element.querySelector(".card__image").alt=this._name,this.renderLikes(this._isLiked),this._element}removeCard(){this._element.remove()}getId(){return this._cardId}getLikes(){return this._isLiked}renderLikes(e){this._isLiked=e,!0===this._isLiked?this._element.querySelector(".card__like-button").classList.add("card__like-button_active"):this._element.querySelector(".card__like-button").classList.remove("card__like-button_active")}}class t{constructor(e,t){let{items:s,renderer:i}=e;this._data=s,this._renderer=i,this._container=document.querySelector(t)}renderItems(){this._data.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}class s{constructor(e){this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close(),e.target.classList.contains("modal__close-button")&&this.close()}))}}class i extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._inputList=this._popupForm.querySelectorAll(".modal__input"),this._handleFormSubmit=t,this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonValue=this._submitButton.textContent}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}setLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonValue}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t)}))}}class r{constructor(e,t,s){this._displayName=document.querySelector(e),this._displayJob=document.querySelector(t),this._displayImage=document.querySelector(s)}getUserInfo(){return{title:this._displayName.textContent,description:this._displayJob.textContent}}setUserInfo(e){this._displayName.textContent=e.name,this._displayJob.textContent=e.about,this.setUserImage(e.avatar)}setUserImage(e){this._displayImage.src=e}}class n{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e,t){const s=document.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=document.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}resetValidation(){this.toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}disableSubmitButton=()=>{const e=this._formElement.querySelector(this._submitButtonSelector);e.classList.add(this._inactiveButtonClass),e.disabled=!0};_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this.toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const o={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},a=document.querySelector("#edit-modal"),l=document.querySelector("#profile-form"),d=document.querySelector("#add-card-form"),c=document.querySelector("#change-profilepic-form"),u=document.querySelector(".profile__edit-button"),h=document.querySelector(".profile__add-button"),_=(document.querySelector("#confirm-modal"),a.querySelector("#profile-title")),m=a.querySelector("#description"),p=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_request(e,t){return fetch(e,t).then(this.renderResult)}renderResult(e){return e.ok?e.json():Promise.reject(`'Error:' ${e.status}`)}getInfo(){return this._request(`${this._baseUrl}/users/me`,{headers:this._headers})}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{headers:this._headers})}editProfile(e){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}addCard(e){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.url})})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}dislikeCard(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}updateProfilePicture(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}loadPageResults(){return Promise.all([this.getInitialCards(),this.getInfo()])}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"9a1167a0-01e6-4e49-b3c5-e813c03c355c","Content-Type":"application/json"}});let b,v;p.loadPageResults().then((e=>{let[s,i]=e;console.log(s),console.log(i),b=new t({items:s,renderer:E},".gallery__cards"),b.renderItems(),v=new r(".profile__title",".profile__description",".profile__image"),v.setUserInfo(i)})).catch(console.error);const L=new i("#edit-modal",(function(e){L.setLoading(!0),p.editProfile(e).then((e=>(L.close(),e))).then((e=>v.setUserInfo(e))).catch(console.error).finally((()=>L.setLoading(!1)))}));L.setEventListeners();const g=new i("#picture-modal",(function(e){g.setLoading(!0),p.updateProfilePicture(e.profileurl).then((e=>{c.reset(),g.close(),v.setUserImage(e.avatar)})).catch(console.error).finally((()=>g.setLoading(!1)))}));function E(t){return new e(t,"#card-template",q,f,C).generateCard()}g.setEventListeners(),document.querySelector(".profile-image__edit-button").addEventListener("click",(e=>{e.preventDefault(),g.open(),w.resetValidation()}));const y=new i("#card-modal",(function(e){y.setLoading(!0),p.addCard(e).then((e=>{b.addItem(e)})).then((()=>{d.reset(),y.close()})).catch(console.error).finally((()=>y.setLoading(!1)))}));y.setEventListeners();const S=new class extends s{constructor(e){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._submitButton=this._popupForm.querySelector(".modal__button_confirm"),this._submitButtonValue=this._submitButton.textContent}setSubmitAction(e){this._submitAction=e}setLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Deleting...";this._submitButton.textContent=e?t:this._submitButtonValue}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._submitAction()}))}}("#confirm-modal");function f(e){S.open(),S.setSubmitAction((()=>{S.setLoading(!0),p.deleteCard(e.getId()).then((()=>{e.removeCard(),S.close()})).catch(console.error).finally((()=>S.setLoading(!1)))}))}function C(e){!0===e.getLikes()?p.dislikeCard(e.getId()).then((t=>{e.renderLikes(t.isLiked)})).catch(console.error):p.likeCard(e.getId()).then((t=>{e.renderLikes(t.isLiked)})).catch(console.error)}S.setEventListeners();const k=new class extends s{constructor(e){super(e),this._previewImageDisplay=this._popupElement.querySelector(".modal__image-preview"),this._previewImageText=this._popupElement.querySelector(".modal__image-text")}open(e){this._previewImageDisplay.src=e.link,this._previewImageDisplay.alt=e.name,this._previewImageText.textContent=e.name,super.open()}}("#image-modal");function q(e){k.open(e)}k.setEventListeners(),u.addEventListener("click",(()=>{L.open();const e=v.getUserInfo();_.value=e.title,m.value=e.description,I.resetValidation()})),h.addEventListener("click",(()=>{y.open(),B.resetValidation()}));const I=new n(o,l);I.enableValidation();const B=new n(o,d);B.enableValidation();const w=new n(o,c);w.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBb0J2RCxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL09PUFxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IF9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1pY29uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRfX3ByZXZpZXctYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9kYXRhKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5hbHQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5yZW5kZXJMaWtlcyh0aGlzLl9pc0xpa2VkKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRJZDtcbiAgfVxuXG4gIGdldExpa2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xuICB9XG5cbiAgcmVuZGVyTGlrZXMoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIGlmICh0aGlzLl9pc0xpa2VkID09PSB0cnVlKSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xuICAgIHRoaXMuX2RhdGEgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2RhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgY29uc3QgbmV3Q2FyZCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKG5ld0NhcmQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblZhbHVlID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1JbnB1dHNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybUlucHV0cztcbiAgfVxuXG4gIHNldExvYWRpbmcoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHVzZXJJbmZvID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodXNlckluZm8pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGltYWdlU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9kaXNwbGF5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9kaXNwbGF5Sm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fZGlzcGxheUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbWFnZVNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogdGhpcy5fZGlzcGxheU5hbWUudGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGlzcGxheUpvYi50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX2Rpc3BsYXlOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2Rpc3BsYXlKb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuc2V0VXNlckltYWdlKGRhdGEuYXZhdGFyKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzZXRVc2VySW1hZ2UoZGF0YSkge1xuICAgIHRoaXMuX2Rpc3BsYXlJbWFnZS5zcmMgPSBkYXRhO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgX2Vycm9yRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIF9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IF9lcnJvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBfZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlU3VibWl0QnV0dG9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgcG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgaW5pdGlhbENhcmRzLCBmb3JtVmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbi8vV3JhcHBlcnNcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtbW9kYWxcIik7XG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZm9ybVwiKTtcbmNvbnN0IGNhcmRGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKTtcbmNvbnN0IGF2YXRhckZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGFuZ2UtcHJvZmlsZXBpYy1mb3JtXCIpO1xuXG4vL0J1dHRvbnMgYW5kIG90aGVyIERPTSBub2Rlc1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgbmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbmZpcm0tbW9kYWxcIik7XG5cbi8vRm9ybSBkYXRhXG5jb25zdCBuYW1lSW5wdXQgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZVwiKTtcbmNvbnN0IGpvYklucHV0ID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uXCIpO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI5YTExNjdhMC0wMWU2LTRlNDktYjNjNS1lODEzYzAzYzM1NWNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vL2luZm9ybWF0aW9uIGZyb20gc2VydmVyXG5cbmxldCBjYXJkTGlzdDtcbmxldCB1c2VySW5mbztcblxuYXBpXG4gIC5sb2FkUGFnZVJlc3VsdHMoKVxuICAudGhlbigoW2NhcmRzLCB1c2VyRGF0YV0pID0+IHtcbiAgICBjb25zb2xlLmxvZyhjYXJkcyk7XG4gICAgY29uc29sZS5sb2codXNlckRhdGEpO1xuICAgIGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiBjYXJkcyxcbiAgICAgICAgcmVuZGVyZXI6IGNyZWF0ZUNhcmQsXG4gICAgICB9LFxuICAgICAgXCIuZ2FsbGVyeV9fY2FyZHNcIlxuICAgICk7XG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoKTtcbiAgICB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcbiAgICAgIFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gICAgICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICAgICAgXCIucHJvZmlsZV9faW1hZ2VcIlxuICAgICk7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbi8vZWRpdCBwcm9maWxlIGluZm9ybWF0aW9uXG5cbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KHVzZXJEYXRhKSB7XG4gIHByb2ZpbGVQb3B1cEZvcm0uc2V0TG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmVkaXRQcm9maWxlKHVzZXJEYXRhKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHByb2ZpbGVQb3B1cEZvcm0uY2xvc2UoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpKVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHByb2ZpbGVQb3B1cEZvcm0uc2V0TG9hZGluZyhmYWxzZSkpO1xufVxuXG5jb25zdCBwcm9maWxlUG9wdXBGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2VkaXQtbW9kYWxcIixcbiAgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXRcbik7XG5wcm9maWxlUG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vZWRpdCBwcm9maWxlIGltYWdlXG5cbmNvbnN0IHByb2ZpbGVJbWFnZVBvcHVwRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwaWN0dXJlLW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVQaWN0dXJlRm9ybVN1Ym1pdFxuKTtcbnByb2ZpbGVJbWFnZVBvcHVwRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcm9maWxlSW1hZ2VFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucHJvZmlsZS1pbWFnZV9fZWRpdC1idXR0b25cIlxuKTtcblxucHJvZmlsZUltYWdlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgcHJvZmlsZUltYWdlUG9wdXBGb3JtLm9wZW4oKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlUGljdHVyZUZvcm1TdWJtaXQodXNlckRhdGEpIHtcbiAgcHJvZmlsZUltYWdlUG9wdXBGb3JtLnNldExvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC51cGRhdGVQcm9maWxlUGljdHVyZSh1c2VyRGF0YS5wcm9maWxldXJsKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGF2YXRhckZvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgICBwcm9maWxlSW1hZ2VQb3B1cEZvcm0uY2xvc2UoKTtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbWFnZShyZXMuYXZhdGFyKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHByb2ZpbGVJbWFnZVBvcHVwRm9ybS5zZXRMb2FkaW5nKGZhbHNlKSk7XG59XG5cbi8vRWRpdCBDYXJkc1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGRhdGEsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufVxuXG5jb25zdCBjYXJkUG9wdXBGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjY2FyZC1tb2RhbFwiLCBoYW5kbGVOZXdDYXJkRm9ybVN1Ym1pdCk7XG5jYXJkUG9wdXBGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZU5ld0NhcmRGb3JtU3VibWl0KHVzZXJJbmZvKSB7XG4gIGNhcmRQb3B1cEZvcm0uc2V0TG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmFkZENhcmQodXNlckluZm8pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShyZXMpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZEZvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgICBjYXJkUG9wdXBGb3JtLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiBjYXJkUG9wdXBGb3JtLnNldExvYWRpbmcoZmFsc2UpKTtcbn1cblxuY29uc3QgZGVsZXRlQ29uZmlybVBvcHVwID0gbmV3IHBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNjb25maXJtLW1vZGFsXCIpO1xuZGVsZXRlQ29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgZGVsZXRlQ29uZmlybVBvcHVwLm9wZW4oKTtcblxuICBkZWxldGVDb25maXJtUG9wdXAuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICBkZWxldGVDb25maXJtUG9wdXAuc2V0TG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuZ2V0SWQoKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgICAgIGRlbGV0ZUNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgLmZpbmFsbHkoKCkgPT4gZGVsZXRlQ29uZmlybVBvcHVwLnNldExvYWRpbmcoZmFsc2UpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XG4gIGlmIChjYXJkLmdldExpa2VzKCkgPT09IHRydWUpIHtcbiAgICBhcGlcbiAgICAgIC5kaXNsaWtlQ2FyZChjYXJkLmdldElkKCkpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQucmVuZGVyTGlrZXMocmVzLmlzTGlrZWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICBhcGlcbiAgICAgIC5saWtlQ2FyZChjYXJkLmdldElkKCkpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmQucmVuZGVyTGlrZXMocmVzLmlzTGlrZWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfVxufVxuXG4vL1ByZXZpZXcgSW1hZ2VzXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNpbWFnZS1tb2RhbFwiKTtcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soZGF0YSkge1xuICBwb3B1cFdpdGhJbWFnZS5vcGVuKGRhdGEpO1xufVxuXG4vL0V2ZW50IExpc3RlbmVyc1xucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcHJvZmlsZVBvcHVwRm9ybS5vcGVuKCk7XG4gIGNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby50aXRsZTtcbiAgam9iSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8uZGVzY3JpcHRpb247XG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbm5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2FyZFBvcHVwRm9ybS5vcGVuKCk7XG4gIGNhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8vVmFsaWRhdGlvblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRpb24oXG4gIGZvcm1WYWxpZGF0aW9uQ29uZmlnLFxuICBwcm9maWxlRm9ybUVsZW1lbnRcbik7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRpb24oXG4gIGZvcm1WYWxpZGF0aW9uQ29uZmlnLFxuICBjYXJkRm9ybUVsZW1lbnRcbik7XG5cbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdGlvbihcbiAgZm9ybVZhbGlkYXRpb25Db25maWcsXG4gIGF2YXRhckZvcm1FbGVtZW50XG4pO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX3JlcXVlc3QodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLnJlbmRlclJlc3VsdCk7XG4gIH1cblxuICByZW5kZXJSZXN1bHQocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJ0Vycm9yOicgJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgfVxuXG4gIGdldEluZm8oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcbiAgICAgICAgbGluazogZGF0YS51cmwsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7ZGF0YX1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgbGlrZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7ZGF0YX0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7ZGF0YX0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUHJvZmlsZVBpY3R1cmUobGluaykge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBsb2FkUGFnZVJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldEluZm8oKV0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybVN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX2J1dHRvbl9jb25maXJtXCJcbiAgICApO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblZhbHVlID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xuICAgIHRoaXMuX3N1Ym1pdEFjdGlvbiA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldExvYWRpbmcoaXNMb2FkaW5nLCBsb2FkaW5nVGV4dCA9IFwiRGVsZXRpbmcuLi5cIikge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25WYWx1ZTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0QWN0aW9uKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZURpc3BsYXkgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19pbWFnZS1wcmV2aWV3XCJcbiAgICApO1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZVRleHQgPVxuICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXRleHRcIik7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VEaXNwbGF5LnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VEaXNwbGF5LmFsdCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VUZXh0LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfY2FyZElkIiwiX2lkIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZW5lcmF0ZUNhcmQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsInJlbmRlckxpa2VzIiwicmVtb3ZlQ2FyZCIsInJlbW92ZSIsImdldElkIiwiZ2V0TGlrZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJmb3JFYWNoIiwiaXRlbSIsImFkZEl0ZW0iLCJuZXdDYXJkIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uVmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtSW5wdXRzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldExvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInByZXZlbnREZWZhdWx0IiwidXNlckluZm8iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiaW1hZ2VTZWxlY3RvciIsIl9kaXNwbGF5TmFtZSIsIl9kaXNwbGF5Sm9iIiwiX2Rpc3BsYXlJbWFnZSIsImdldFVzZXJJbmZvIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJzZXRVc2VySW1hZ2UiLCJhdmF0YXIiLCJGb3JtVmFsaWRhdGlvbiIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwicmVzZXRWYWxpZGF0aW9uIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsImJ1dHRvbkVsZW1lbnQiLCJBcnJheSIsImZyb20iLCJlbmFibGVWYWxpZGF0aW9uIiwiZm9ybVZhbGlkYXRpb25Db25maWciLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUZvcm1FbGVtZW50IiwiY2FyZEZvcm1FbGVtZW50IiwiYXZhdGFyRm9ybUVsZW1lbnQiLCJwcm9maWxlRWRpdEJ1dHRvbiIsIm5ld0NhcmRCdXR0b24iLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsIl9yZXF1ZXN0IiwidXJsIiwib3B0aW9ucyIsImZldGNoIiwidGhlbiIsInJlbmRlclJlc3VsdCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiZWRpdFByb2ZpbGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZENhcmQiLCJkZWxldGVDYXJkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsInVwZGF0ZVByb2ZpbGVQaWN0dXJlIiwibG9hZFBhZ2VSZXN1bHRzIiwiYWxsIiwiYXV0aG9yaXphdGlvbiIsImNhcmRMaXN0IiwiY2FyZHMiLCJ1c2VyRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVDYXJkIiwiY2F0Y2giLCJlcnJvciIsInByb2ZpbGVQb3B1cEZvcm0iLCJmaW5hbGx5IiwicHJvZmlsZUltYWdlUG9wdXBGb3JtIiwicHJvZmlsZXVybCIsInJlc2V0IiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsImNhcmRQb3B1cEZvcm0iLCJkZWxldGVDb25maXJtUG9wdXAiLCJzZXRTdWJtaXRBY3Rpb24iLCJhY3Rpb24iLCJfc3VibWl0QWN0aW9uIiwiY2FyZCIsInBvcHVwV2l0aEltYWdlIiwiX3ByZXZpZXdJbWFnZURpc3BsYXkiLCJfcHJldmlld0ltYWdlVGV4dCIsImN1cnJlbnRVc2VySW5mbyIsImVkaXRGb3JtVmFsaWRhdG9yIiwiY2FyZEZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9